<div class="header">
    <h1>Text Parser Ruby Gem</h1>
    <code>gem install text_parser</code>
</div>
<div class="main">
    <fieldset class="main-form">
        <legend>Arguments</legend>
        <%= form_tag('/') do -%>
        <p>
            <label for="text">Text</label>
            <%= text_area_tag 'text', @params[:text], :class => 'text' %>
        </p>
        <p>
            <label for="dictionary">Dictionary (comma separated)</label>
            <%= text_area_tag 'dictionary', @params[:dictionary] %>
        </p>
        <p>
            <label for="negative_dictionary">Negative dictionary (comma separated)</label>
            <%= text_area_tag 'negative_dictionary', @params[:negative_dictionary] %>
        </p>
        <p>
            <%= select_minimum_length_tag %> 
            <%= select_tag "order", "<option value='word'>Order by word</option><option value='hits'>Order by hits</option>".html_safe %> 
            <%= select_tag "order_direction", "<option value='asc'>Ascending order</option><option value='desc'>Descending order</option>".html_safe %>
        </p>
        <p><%= submit_tag 'Submit' %></p>
        <% end -%>
    </fieldset>
    <fieldset class="info">
        <legend>Info</legend>
            <p><cite><%= @gem_info["info"] %></cite></p>
            <ul>
                <li><strong>Name:</strong> <%= @gem_info["name"] %></li>
                <li><strong>Current version:</strong> <%= @gem_info["version"] %></li>   
                <li><strong>Downloads:</strong> <%= @gem_info["downloads"] %></li>   
                <li><strong>Author:</strong> <%= @gem_info["authors"] %></li> 
            </ul>
            <p><strong>Instalation:</strong><br /><code>gem install text_parser</code></p> 
            <p><strong>Bundle:</strong><br /><code>gem 'text_parser'</code></p>
            <ul>
                <li><a target="_blank" href="<%= @gem_info["source_code_uri"] %>">Source code</a></li>
                <li><a target="_blank" href="<%= @gem_info["project_uri"] %>">RubyGems.org page</a></li>
            </ul>  
            <div class="fb-like" data-href="http://textparser.heroku.com/" data-send="false" data-width="150" data-show-faces="true"></div>
    </fieldset>
    <% if @parsed_text %>
    <fieldset class="result">
        <legend>Result</legend>
        <table>
            <thead>
                <tr>
                    <th>Word</th>
                    <th class="col-hits">Hits</th>
                </tr>
            </thead>
            <tbody>
            <% @parsed_text.each do |p| %>
              <tr class="<%= cycle("odd-line", "") -%>">
                <td><%= p[:word] %></td>
                <td><%= p[:hits] %></td>
              </tr>  
            <% end %>
            </tbody>
        </table>
    </fieldset>
    <% end %>
</div>